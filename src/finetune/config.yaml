project_name: "chess-decoder-finetune"
run_name: "finetune-thinking-v1"

data:
  pretrain_parquet_dir: "/home/maxime/parquet_files_decoder/"
  variation_parquet_dir: "parquets_variations/"
  batch_size: 16
  num_workers: 4
  max_seq_len: 1024
  variation_ratio: 0.8
  max_variations: 3
  max_depth: 5
  tau_base: 0.3
  tau_alpha: 1.0
  train_split: 0.8

model:
  embed_dim: 1024
  num_heads: 16
  num_layers: 12
  max_seq_len: 1024
  d_ff: 1536
  n_buckets: 100
  wl_sigma: 0.4
  value_hidden_size: 256
  num_fourier_freq: 128

training:
  learning_rate: 3.0e-5
  weight_decay: 0.1
  gradient_accumulation_steps: 8
  num_epochs: 5
  log_every_n_steps: 10
  device: "cuda"
  use_amp: true
  checkpoint_dir: "checkpoints/"
  pretrain_checkpoint: "checkpoints/finetune-thinking-v1_20260212_221042/checkpoint_step_280000.pt"
  warmup_steps: 500
  save_every_n_steps: 10000
  val_batches: 100

loss:
  final_move_weight: 5.0
  thinking_move_weight: 2.0
  board_weight: 1.0
  wl_weight: 1.0
  d_weight: 1.0
